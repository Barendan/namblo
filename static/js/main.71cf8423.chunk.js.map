{"version":3,"sources":["components/BlogList.js","components/Home.js","components/BlogItem.js","components/BlogCreate.js","App.js","index.js"],"names":["BlogList","blogs","navigate","useNavigate","className","Card","Group","getPosts","map","blog","fluid","onClick","_id","Content","Header","title","Meta","author","Description","body","GET_BLOG_POSTS","gql","Home","useQuery","data","isPending","error","Button","primary","size","GET_BLOG_POST","REMOVE_BLOG","UPDATE_BLOG","BlogItem","id","useParams","variables","isLoading","useMutation","refetchQueries","blogRemove","blogUpdate","loading","useState","editActive","setEditActive","setTitle","setBody","setAuthor","Form","onSubmit","e","preventDefault","Field","type","required","placeholder","value","onChange","target","TextArea","label","color","disabled","getPost","header","meta","description","CREATE_BLOG_POST","BlogCreate","blogCreate","App","queryClient","QueryClient","client","exact","path","element","ApolloClient","uri","cache","InMemoryCache","ReactDOM","createRoot","document","getElementById","render","ApolloProvider","StrictMode"],"mappings":"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","file":"static/js/main.71cf8423.chunk.js","sourcesContent":["import { useNavigate } from 'react-router-dom';\r\nimport { Card } from 'semantic-ui-react';\r\n\r\nconst BlogList = ({ blogs }) => {\r\n  const navigate = useNavigate()\r\n\r\n  return (\r\n  <div className=\"blog-list\">\r\n    <Card.Group>\r\n      { blogs?.getPosts.map(blog => (\r\n        // <Card \r\n        //   fluid\r\n        //   header={blog.title}\r\n        //   meta={`written by ${blog.author}`}\r\n        //   description={blog.body}\r\n        //   // color='red' \r\n        // />\r\n        \r\n        <Card\r\n          fluid\r\n          key={blog._id}\r\n          // href={`/blogs/${blog._id}`}\r\n          onClick={() => navigate(`/blogs/${blog._id}`) }\r\n        >\r\n          <Card.Content>\r\n            <Card.Header className=\"card-header\">{blog.title}</Card.Header>\r\n            <Card.Meta>{`written by ${blog.author}`}</Card.Meta>\r\n            <Card.Description>{blog.body}</Card.Description>\r\n          </Card.Content>\r\n        </Card>\r\n      ))}\r\n    </Card.Group>\r\n  </div>\r\n)};\r\n\r\nexport default BlogList;","// import useFetch from './useFetch';\r\nimport { gql, useQuery } from '@apollo/client';\r\nimport { Button } from 'semantic-ui-react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nimport BlogList from './BlogList.js';\r\n\r\nconst GET_BLOG_POSTS = gql`\r\n  query GetBlogPosts {\r\n    getPosts {\r\n        _id\r\n        title\r\n        body\r\n        author\r\n    }\r\n  }\r\n`;\r\n\r\nconst Home = () => {\r\n  // const { data: blogs, isPending, error } = useFetch('http://localhost:4000/blogs');\r\n  const { data: blogs, isPending, error } = useQuery(GET_BLOG_POSTS);\r\n  const navigate = useNavigate();\r\n\r\n  return (\r\n    <div className=\"Home\">\r\n      <div className=\"main-header\"> Nifty Shifty Blog!</div>\r\n      { isPending && <div> Loading... </div> }\r\n      { blogs && (\r\n        <div>\r\n          <BlogList blogs={blogs} />\r\n          <hr/><br/>\r\n          <Button \r\n            primary\r\n            // color=\"orange\"\r\n            size=\"huge\" \r\n            onClick={() => navigate('/newblog') }\r\n          >Post New Blog </Button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home;","import { useState } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { gql, useQuery, useMutation } from '@apollo/client';\r\nimport { Container, Button, Card, Form } from 'semantic-ui-react';\r\n\r\nconst GET_BLOG_POST = gql`\r\n    query getBlogPost($id: ID!) {\r\n        getPost (id: $id) {\r\n            _id\r\n            title\r\n            body\r\n            author\r\n        }\r\n    }\r\n`;\r\n\r\nconst REMOVE_BLOG = gql`\r\n    mutation removeBlog ($id: ID!) {\r\n        deletePost(id: $id) {\r\n            _id\r\n        }\r\n    }\r\n`;\r\n\r\nconst UPDATE_BLOG = gql`\r\n    mutation UpdatePost($id: ID!, $body: String, $title: String, $author: String) {\r\n        updatePost(id: $id, body: $body, title: $title, author: $author) {\r\n        _id\r\n        title\r\n        body\r\n        author\r\n        }\r\n    }\r\n`;\r\n \r\nconst BlogItem = () => {\r\n    const { id } = useParams();\r\n    const { isLoading, data: blog } =  useQuery(GET_BLOG_POST, { variables: { id: id } });\r\n    const [blogRemove] = useMutation(REMOVE_BLOG,{ refetchQueries: ['GetBlogPosts'] });\r\n    const [blogUpdate, { data, loading, error }] = useMutation(UPDATE_BLOG);\r\n    \r\n    const [editActive, setEditActive] = useState(false);\r\n    const [title, setTitle] = useState('');\r\n    const [body, setBody] = useState('');\r\n    const [author, setAuthor] = useState('Barenboim');\r\n\r\n    const navigate = useNavigate();\r\n    \r\n    const handleClick = () => {\r\n        blogRemove({\r\n            variables: { id },\r\n        });\r\n        navigate('/');\r\n    }\r\n\r\n    const handleUpdate = () => {\r\n        setEditActive(true);\r\n        setTitle(blog?.getPost.title)\r\n        setBody(blog?.getPost.body)\r\n        setAuthor(blog?.getPost.author)\r\n    }\r\n    \r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        const blog = { title, body, author };\r\n        \r\n        blogUpdate(\r\n            {variables: { id,\r\n                \"title\": blog.title,\r\n                \"body\": blog.body,\r\n                \"author\": blog.author\r\n            }}\r\n        );\r\n        \r\n        setEditActive(false);\r\n    }\r\n \r\n    return (\r\n        <div className=\"blog-details\">\r\n            {isLoading && <div>Loading...</div>}\r\n            {/* {console.log('show blog', blog?.getPost)} */}\r\n\r\n            { editActive ? (\r\n                <div>\r\n                    <p className=\"main-header\">Edit your post</p>\r\n                    <div className=\"form-container\">\r\n                        <Form onSubmit={handleSubmit}>\r\n\r\n                            <Form.Field>\r\n                                <label>Post Title</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    required\r\n                                    placeholder='Enter a title'\r\n                                    value={title}\r\n                                    onChange={(e) => setTitle(e.target.value)}\r\n                                    />\r\n                            </Form.Field>\r\n\r\n                            <Form.Field>\r\n                                <label>Author Name</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    placeholder='Enter your name' \r\n                                    value={author}\r\n                                    onChange={(e) => setAuthor(e.target.value)}\r\n                                    />\r\n                            </Form.Field>\r\n\r\n                            <Form.TextArea \r\n                                label='Post Content' \r\n                                placeholder='Write your heart out...' \r\n                                value={body}\r\n                                onChange={(e) => setBody(e.target.value)}\r\n                                />\r\n\r\n                            <Button size=\"large\" onClick={() => setEditActive(false)}\r\n                            >Back</Button>\r\n                            { !loading && <Button color=\"green\" size=\"large\" type=\"submit\">Update Post</Button>}\r\n                            { loading && <Button disabled color=\"green\" size=\"large\" type=\"submit\">Updating Post</Button>}\r\n                        </Form>\r\n                    </div>\r\n                </div>\r\n            ) :\r\n            blog?.getPost && (\r\n                <div>\r\n                    <Card \r\n                        // fluid\r\n                        header={blog.getPost.title}\r\n                        meta={`written by ${blog.getPost.author}`}\r\n                        description={blog.getPost.body}\r\n                    />\r\n                    <Button \r\n                        size=\"large\"\r\n                        onClick={() => navigate('/')}\r\n                    >Back</Button>\r\n                    <Button \r\n                        size=\"large\"\r\n                        color=\"green\"\r\n                        onClick={() => handleUpdate()}\r\n                    >Edit</Button>\r\n                    <Button \r\n                        size=\"large\"\r\n                        color=\"red\"\r\n                        onClick={handleClick}\r\n                    >Delete</Button>\r\n                </div>\r\n            )}\r\n\r\n        </div>\r\n    );\r\n}\r\n \r\nexport default BlogItem;","import { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { gql, useMutation } from '@apollo/client';\r\nimport { Button, Form } from 'semantic-ui-react';\r\n\r\nconst CREATE_BLOG_POST = gql`\r\n    mutation CreatePost($title: String!, $body: String!, $author: String) {\r\n        createPost(title: $title, body: $body, author: $author) {\r\n            _id\r\n            title\r\n            author\r\n        }\r\n    }\r\n`;\r\n \r\nconst BlogCreate = () => {\r\n    const [title, setTitle] = useState('');\r\n    const [body, setBody] = useState('');\r\n    const [author, setAuthor] = useState('Barenboim');\r\n    const [blogCreate, { data, loading, error }] = useMutation(CREATE_BLOG_POST, { refetchQueries: ['GetBlogPosts'] });\r\n    const navigate = useNavigate();\r\n    \r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        const blog = { title, body, author };\r\n        \r\n        blogCreate({\r\n            variables: { \r\n                \"title\": blog.title,\r\n                \"body\": blog.body,\r\n                \"author\": blog.author\r\n            }\r\n        });\r\n        \r\n        navigate('/');\r\n    }\r\n    \r\n    return (\r\n        <div className=\"create\">\r\n            {/* { isLoading && <div>Loading...</div> } */}\r\n\r\n            <p className=\"main-header\">Add a New Post</p>\r\n            <div className=\"form-container\">\r\n                <Form onSubmit={handleSubmit}>\r\n\r\n                    <Form.Field required>\r\n                        <label>Post Title</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            required\r\n                            placeholder='Enter a title'\r\n                            value={title}\r\n                            onChange={(e) => setTitle(e.target.value)}\r\n                            />\r\n                    </Form.Field>\r\n\r\n                    <Form.Field>\r\n                        <label>Author Name</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder='Enter your name' \r\n                            value={author}\r\n                            onChange={(e) => setAuthor(e.target.value)}\r\n                            />\r\n                    </Form.Field>\r\n\r\n                    <Form.TextArea \r\n                        required\r\n                        label='Post Content' \r\n                        placeholder='Write your heart out...' \r\n                        value={body}\r\n                        onChange={(e) => setBody(e.target.value)}\r\n                        />\r\n\r\n                    <Button size=\"large\" onClick={() => navigate('/')}>Back</Button>\r\n                    { !loading && <Button size=\"large\" color=\"green\" type=\"submit\">Add Post</Button>}\r\n                    { loading && <Button disabled size=\"large\" color=\"green\" type=\"submit\">Adding Post</Button>}\r\n                </Form>\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n \r\nexport default BlogCreate;","import { HashRouter as Router, Route, Routes} from 'react-router-dom';\r\nimport { QueryClient, QueryClientProvider } from 'react-query';\r\n\r\nimport Home from './components/Home';\r\nimport BlogItem from './components/BlogItem';\r\nimport BlogCreate from './components/BlogCreate';\r\n// import NotFound from './NotFound';\r\n\r\n\r\nfunction App() {\r\n  const queryClient = new QueryClient()\r\n  return (\r\n    <QueryClientProvider client={queryClient}>\r\n      <Router>\r\n\r\n        <div className=\"App\">\r\n          {/* <Navbar/> */}\r\n          <div className=\"content\">\r\n            <Routes>\r\n              <Route exact path=\"/\" element={ <Home/> } />\r\n              <Route path=\"/newblog\" element={ <BlogCreate/> }/>\r\n              <Route path=\"/blogs/:id\" element={ <BlogItem/> } />\r\n              {/* <Route path=\"*\" element={} /> */}\r\n            </Routes>\r\n          </div>\r\n        </div>\r\n        \r\n      </Router>\r\n    </QueryClientProvider>\r\n  );\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport App from './App';\r\nimport 'semantic-ui-css/semantic.min.css';\r\nimport './App.css';\r\n\r\nimport { ApolloClient, ApolloProvider, InMemoryCache } from '@apollo/client';\r\n\r\nconst client = new ApolloClient({\r\n  uri: 'https://namblo-server.herokuapp.com/',\r\n  cache: new InMemoryCache()\r\n})\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(\r\n  <ApolloProvider client={client} >\r\n    <React.StrictMode>\r\n      <App />\r\n    </React.StrictMode>\r\n  </ApolloProvider>\r\n);"],"sourceRoot":""}