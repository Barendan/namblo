(this.webpackJsonpnamblo=this.webpackJsonpnamblo||[]).push([[0],{228:function(e,t,n){},229:function(e,t,n){"use strict";n.r(t);var a,r,c,i,o,l=n(0),s=n.n(l),d=n(168),j=n.n(d),b=n(79),u=n(12),h=n(148),O=n(66),x=n(252),g=n(257),v=n(255),m=n(254),p=n(6),y=function(e){var t=e.blogs,n=Object(u.f)();return Object(p.jsx)("div",{className:"blog-list",children:Object(p.jsx)(m.a.Group,{children:null===t||void 0===t?void 0:t.getPosts.map((function(e){return Object(p.jsx)(m.a,{fluid:!0,onClick:function(){return n("/blogs/".concat(e._id))},children:Object(p.jsxs)(m.a.Content,{children:[Object(p.jsx)(m.a.Header,{className:"card-header",children:e.title}),Object(p.jsx)(m.a.Meta,{children:"written by ".concat(e.author)}),Object(p.jsx)(m.a.Description,{children:e.body})]})},e._id)}))})})},f=Object(x.a)(a||(a=Object(O.a)(["\n  query GetBlogPosts {\n    getPosts {\n        _id\n        title\n        body\n        author\n    }\n  }\n"]))),P=function(){var e=Object(g.a)(f),t=e.data,n=e.isPending,a=(e.error,Object(u.f)());return Object(p.jsxs)("div",{className:"Home",children:[Object(p.jsx)("div",{className:"main-header",children:" Nifty Shifty Blog!"}),n&&Object(p.jsx)("div",{children:" Loading... "}),t&&Object(p.jsxs)("div",{children:[Object(p.jsx)(y,{blogs:t}),Object(p.jsx)("hr",{}),Object(p.jsx)("br",{}),Object(p.jsx)(v.a,{primary:!0,size:"huge",onClick:function(){return a("/newblog")},children:"Post New Blog "})]})]})},C=n(17),$=n(247),N=n(250),S=Object(x.a)(r||(r=Object(O.a)(["\n    query getBlogPost($id: ID!) {\n        getPost (id: $id) {\n            _id\n            title\n            body\n            author\n        }\n    }\n"]))),k=Object(x.a)(c||(c=Object(O.a)(["\n    mutation removeBlog ($id: ID!) {\n        deletePost(id: $id) {\n            _id\n        }\n    }\n"]))),B=Object(x.a)(i||(i=Object(O.a)(["\n    mutation UpdatePost($id: ID!, $body: String, $title: String, $author: String) {\n        updatePost(id: $id, body: $body, title: $title, author: $author) {\n        _id\n        title\n        body\n        author\n        }\n    }\n"]))),w=function(){var e=Object(u.g)().id,t=Object(g.a)(S,{variables:{id:e}}),n=t.isLoading,a=t.data,r=Object($.a)(k,{refetchQueries:["GetBlogPosts"]}),c=Object(C.a)(r,1)[0],i=Object($.a)(B),o=Object(C.a)(i,2),s=o[0],d=o[1],j=(d.data,d.loading),b=(d.error,Object(l.useState)(!1)),h=Object(C.a)(b,2),O=h[0],x=h[1],y=Object(l.useState)(""),f=Object(C.a)(y,2),P=f[0],w=f[1],z=Object(l.useState)(""),A=Object(C.a)(z,2),D=A[0],E=A[1],_=Object(l.useState)("Barenboim"),q=Object(C.a)(_,2),F=q[0],G=q[1],I=Object(u.f)();return Object(p.jsxs)("div",{className:"blog-details",children:[n&&Object(p.jsx)("div",{children:"Loading..."}),O?Object(p.jsxs)("div",{children:[Object(p.jsx)("p",{className:"main-header",children:"Edit your post"}),Object(p.jsx)("div",{className:"form-container",children:Object(p.jsxs)(N.a,{onSubmit:function(t){t.preventDefault();var n={title:P,body:D,author:F};s({variables:{id:e,title:n.title,body:n.body,author:n.author}}),x(!1)},children:[Object(p.jsxs)(N.a.Field,{children:[Object(p.jsx)("label",{children:"Post Title"}),Object(p.jsx)("input",{type:"text",required:!0,placeholder:"Enter a title",value:P,onChange:function(e){return w(e.target.value)}})]}),Object(p.jsxs)(N.a.Field,{children:[Object(p.jsx)("label",{children:"Author Name"}),Object(p.jsx)("input",{type:"text",placeholder:"Enter your name",value:F,onChange:function(e){return G(e.target.value)}})]}),Object(p.jsx)(N.a.TextArea,{label:"Post Content",placeholder:"Write your heart out...",value:D,onChange:function(e){return E(e.target.value)}}),Object(p.jsx)(v.a,{size:"large",onClick:function(){return x(!1)},children:"Back"}),!j&&Object(p.jsx)(v.a,{color:"green",size:"large",type:"submit",children:"Update Post"}),j&&Object(p.jsx)(v.a,{disabled:!0,color:"green",size:"large",type:"submit",children:"Updating Post"})]})})]}):(null===a||void 0===a?void 0:a.getPost)&&Object(p.jsxs)("div",{children:[Object(p.jsx)(m.a,{header:a.getPost.title,meta:"written by ".concat(a.getPost.author),description:a.getPost.body}),Object(p.jsx)(v.a,{size:"large",onClick:function(){return I("/")},children:"Back"}),Object(p.jsx)(v.a,{size:"large",color:"green",onClick:function(){return x(!0),w(null===a||void 0===a?void 0:a.getPost.title),E(null===a||void 0===a?void 0:a.getPost.body),void G(null===a||void 0===a?void 0:a.getPost.author)},children:"Edit"}),Object(p.jsx)(v.a,{size:"large",color:"red",onClick:function(){c({variables:{id:e}}),I("/")},children:"Delete"})]})]})},z=Object(x.a)(o||(o=Object(O.a)(["\n    mutation CreatePost($title: String!, $body: String!, $author: String) {\n        createPost(title: $title, body: $body, author: $author) {\n            _id\n            title\n            author\n        }\n    }\n"]))),A=function(){var e=Object(l.useState)(""),t=Object(C.a)(e,2),n=t[0],a=t[1],r=Object(l.useState)(""),c=Object(C.a)(r,2),i=c[0],o=c[1],s=Object(l.useState)("Barenboim"),d=Object(C.a)(s,2),j=d[0],b=d[1],h=Object($.a)(z,{refetchQueries:["GetBlogPosts"]}),O=Object(C.a)(h,2),x=O[0],g=O[1],m=(g.data,g.loading),y=(g.error,Object(u.f)());return Object(p.jsxs)("div",{className:"create",children:[Object(p.jsx)("p",{className:"main-header",children:"Add a New Post"}),Object(p.jsx)("div",{className:"form-container",children:Object(p.jsxs)(N.a,{onSubmit:function(e){e.preventDefault();var t={title:n,body:i,author:j};x({variables:{title:t.title,body:t.body,author:t.author}}),y("/")},children:[Object(p.jsxs)(N.a.Field,{required:!0,children:[Object(p.jsx)("label",{children:"Post Title"}),Object(p.jsx)("input",{type:"text",required:!0,placeholder:"Enter a title",value:n,onChange:function(e){return a(e.target.value)}})]}),Object(p.jsxs)(N.a.Field,{children:[Object(p.jsx)("label",{children:"Author Name"}),Object(p.jsx)("input",{type:"text",placeholder:"Enter your name",value:j,onChange:function(e){return b(e.target.value)}})]}),Object(p.jsx)(N.a.TextArea,{required:!0,label:"Post Content",placeholder:"Write your heart out...",value:i,onChange:function(e){return o(e.target.value)}}),Object(p.jsx)(v.a,{size:"large",onClick:function(){return y("/")},children:"Back"}),!m&&Object(p.jsx)(v.a,{size:"large",color:"green",type:"submit",children:"Add Post"}),m&&Object(p.jsx)(v.a,{disabled:!0,size:"large",color:"green",type:"submit",children:"Adding Post"})]})})]})};var D=function(){var e=new h.QueryClient;return Object(p.jsx)(h.QueryClientProvider,{client:e,children:Object(p.jsx)(b.a,{children:Object(p.jsx)("div",{className:"App",children:Object(p.jsx)("div",{className:"content",children:Object(p.jsxs)(u.c,{children:[Object(p.jsx)(u.a,{exact:!0,path:"/",element:Object(p.jsx)(P,{})}),Object(p.jsx)(u.a,{path:"/newblog",element:Object(p.jsx)(A,{})}),Object(p.jsx)(u.a,{path:"/blogs/:id",element:Object(p.jsx)(w,{})})]})})})})})},E=(n(227),n(228),n(251)),_=n(253),q=n(249),F=new E.a({uri:"https://namblo-server.herokuapp.com/",cache:new _.a});j.a.createRoot(document.getElementById("root")).render(Object(p.jsx)(q.a,{client:F,children:Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(D,{})})}))}},[[229,1,2]]]);
//# sourceMappingURL=main.71cf8423.chunk.js.map